<!doctype HTML5>
<html>
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
        <meta content="yes" name="apple-mobile-web-app-capable">
        <meta content="black" name="apple-mobile-web-app-status-bar-style">
        <meta content="telephone=no" name="format-detection">
        <meta content="email=no" name="format-detection">
        <link rel="stylesheet" href="h5.css">        
        <script>
            ; (function (designWidth, maxWidth) {
                    var doc = document,
                        win = window,
                        docEl = doc.documentElement,
                        remStyle = document.createElement("style"),
                        tid;

                    function refreshRem() {
                        var width = docEl.getBoundingClientRect().width;
                        maxWidth = maxWidth || 540;
                        width > maxWidth && (width = maxWidth);
                        var rem = width * 100 / designWidth;
                        remStyle.innerHTML = 'html{font-size:' + rem + 'px;}';
                    }

                    if (docEl.firstElementChild) {
                        docEl.firstElementChild.appendChild(remStyle);
                    } else {
                        var wrap = doc.createElement("div");
                        wrap.appendChild(remStyle);
                        doc.write(wrap.innerHTML);
                        wrap = null;
                    }
                    //要等 wiewport 设置好后才能执行 refreshRem，不然 refreshRem 会执行2次；
                    refreshRem();

                    win.addEventListener("resize", function () {
                        clearTimeout(tid); //防止执行两次
                        tid = setTimeout(refreshRem, 300);
                    }, false);

                    win.addEventListener("pageshow", function (e) {
                        if (e.persisted) { // 浏览器后退的时候重新计算
                            clearTimeout(tid);
                            tid = setTimeout(refreshRem, 300);
                        }
                    }, false);

                    if (doc.readyState === "complete") {
                        doc.body.style.fontSize = "16px";
                    } else {
                        doc.addEventListener("DOMContentLoaded", function (e) {
                            doc.body.style.fontSize = "16px";
                        }, false);
                    }
                })(750, 750);
        </script>
        <script type="text/javascript" src="html2canvas.js"></script>
        <script type="text/javascript" src="qrcode.js"></script>
        <script src="//code.jquery.com/jquery-1.9.1.min.js"></script>
    </head>
    <body>
        <div class="root" id="root">
            <div class="audio active" id="audio"></div>
            <div id="rokid1" class="rokid1">
                <input class="name" id="name" type="text" placeholder="请输入昵称">
                <div id="shake" class="shake active"></div>
            </div>
            <audio autoplay id="bgMusic" loop src="金蛇狂舞.mp3"></audio>
            <div id="loading" class="loading">
                <div class="loading-img"></div>
            </div>
            <div class="rokid2" id="rokid2">
                <div class="result-img">
                    <div class="sign-box">
                        <div class="nick" id="nick">宝猫猫</div>
                        <div class="sign" id="sign">
                             金玉满堂，广结善缘；富到流油说的就是你的汪年。
                        </div>
                        <div class="sign-right">
                            <div class="py" id="py">fù</div>
                            <div class="lot" id="lot">富</div>
                        </div>
                    </div>
                    <div class="buttons">
                        <div class="button" id="again"></div>                         
                        <div class="button" id="save"></div>
                    </div> 
                </div>
                <div class="content">
                    <div class="list" id="list">
                    </div>
                </div>
            </div>
            <div class="pre-save" id="pre-save">
                <div class="sign-box pre-sign-box">
                    <div class="nick" id="pre-nick"></div>
                    <div class="sign" id="pre-sign">
                        
                    </div>
                    <div class="sign-right">
                        <div class="py" id="pre-py"></div>
                        <div class="lot" id="pre-lot"></div>
                    </div>
                </div>
                <div class="qrcode" id="qrcode"></div>
            </div>
            <img src="" id="print" alt="">
        </div>
        <script>
            $('body,html').height(document.body.clientHeight);
        </script>
        <script type="text/javascript" src="h5.js"></script>
    </body>
</html>